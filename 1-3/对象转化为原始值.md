## 概述
原始值分为三种类型
* 布尔值
* 数字
* 字符串

对象转化为布尔值比较简单，统一转化为`true`。  
转化为另外两种类型则比较麻烦，需要调用对象中的方法来实现。  
这两个方法就是`toString`和`valueOf`。

## toString
* 默认的`toString`方法会返回`[object Object]`，但是很多类都重写了这个方法。  
* 数组会使用`join(',')`方法：
* 函数会返回整个定义的源代码字符串。
* 日期会返回一个日期加时间的字符串。
* 正则返回正则表达式直接量的字符串。
```js
[1,2,3].toString()              // "1,2,3"。
(() => {}).toString()           // "() => {}"
/\d+/g.toString()               // "/\d+/g"
new Date(2010, 0, 1).toString() //"Fri Jan 01 2010 00:00:00 GMT+0800 (中国标准时间)"
```

## valueOf
这个方法的任务并未详细定义：如果存在任意原始值，他就默认将对象转换为表示他的原始值。
* 默认valueOf方法只是返回对象本身。
* 日期会返回自1970年一月一日以来的毫秒数

## 对象转化为字符串
1. 判断对象是否具有`toString`方法，并且这个方法返回一个原始值，是则调用`toString`方法。如果这个原始值不是`string`类型，则进行类型转换。
2. 判断对象是否具有`valueOf`方法，并且这个方法返回一个原始值，是则调用。
如果这个原始值不是`string`类型，则进行类型转换。
3. 抛出类型异常。

## 对象转化为数字
1. 判断对象是否具有`valueOf`方法，并且这个方法返回一个原始值，是则调用。
如果这个原始值不是`number`类型，则进行类型转换。
2. 判断对象是否具有`toString`方法，并且这个方法返回一个原始值，是则调用`toString`方法。如果这个原始值不是`number`类型，则进行类型转换。
3. 抛出类型异常。

## 应用
```js
+[] // 0
+[1] // 1
+[1,2,3] // NaN
```
1. 首先调用valueOf方法，得到一个数组，不是原始值
2. 调用toString方法，[] => '', [1] => '1', [1,2,3] => '1,2,3'
3. 转化为数字 '' => 0, '1' => 1, '1,2,3' => NaN

一般对象遇到'+'和'=='时，都会转化为数字，首先调用'valueOf'方法，
而Date对象会先调用toString方法。
二元运算符'+'和'=='会直接使用得到的原始值，不会对结果进行强制转换。

```js
var now = new Date();
typeof (now + 1) // 调用toString string
typeof (now - 1) // 调用valueOf number

now == now.toString // 调用toString true

now > now - 1 // 都调用valueOf true
now < now + 1 // 第一个调用valueOf, 第二个调用toString false
```